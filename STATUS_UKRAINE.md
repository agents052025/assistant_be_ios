# üöÄ CrashCurse iOS App + AI Backend - –ü–æ—Ç–æ—á–Ω–∏–π –°—Ç–∞—Ç—É—Å

## üì± **–û–ü–ò–° –ü–†–û–ï–ö–¢–£**
CrashCurse - —Ü–µ –≥—ñ–±—Ä–∏–¥–Ω–∏–π iOS –¥–æ–¥–∞—Ç–æ–∫ (SwiftUI + UIKit) –∑ AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –Ω–∞ backend'—ñ, —è–∫–∏–π –≤–∫–ª—é—á–∞—î:
- 5 –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ç–∞–±—ñ–≤: Chat, Planning, Voice, Agents, Settings
- Core Data –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- FastAPI backend –∑ –º–æ–∫ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ—é AI —Å–∏—Å—Ç–µ–º–æ—é (CrewAI - –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ)

## ‚úÖ **–©–û –ü–†–ê–¶–Æ–Ñ –ó–ê–†–ê–ó**

### iOS –î–æ–¥–∞—Ç–æ–∫
- ‚úÖ **–ö–æ–º–ø—ñ–ª—è—Ü—ñ—è**: –í—Å—ñ –ø–æ–º–∏–ª–∫–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ
- ‚úÖ **5 —Ç–∞–±—ñ–≤**: Chat, Planning, Voice, Agents, Settings - –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
- ‚úÖ **Core Data**: –õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –ø–æ–¥—ñ–π, –∑–∞–≤–¥–∞–Ω—å
- ‚úÖ **NetworkService**: –ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –∑ backend —á–µ—Ä–µ–∑ HTTP API
- ‚úÖ **Speech Framework**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- ‚úÖ **UI/UX**: –ü–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### Backend
- ‚úÖ **FastAPI —Å–µ—Ä–≤–µ—Ä**: –ü—Ä–∞—Ü—é—î –Ω–∞ `http://localhost:8000`
- ‚úÖ **–ú–æ–∫ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**: –ì–µ–Ω–µ—Ä—É—î —Ä–æ–∑—É–º–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- ‚úÖ **API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏**: `/chat/send`, `/planning/events`, `/planning/reminders`
- ‚úÖ **CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**: –î–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –∑ iOS
- ‚úÖ **WebSocket –ø—ñ–¥—Ç—Ä–∏–º–∫–∞**: –î–ª—è real-time —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ `http://localhost:8000/docs`

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- ‚úÖ **iOS ‚Üî Backend**: –ü–æ–≤–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î
- ‚úÖ **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö**: Core Data + API —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
- ‚úÖ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: Backend —Ç–µ—Å—Ç–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ curl

## üö® **–ó–ê–õ–ò–®–ò–õ–ò–°–¨ –ü–†–û–ë–õ–ï–ú–ò**

### 1. Core Data Duplicate Entity Warning
```
CoreData: warning: Multiple NSEntityDescriptions claim the NSManagedObject subclass 'ChatMessage'
```
**–ü—Ä–∏—á–∏–Ω–∞**: –í Xcode –ø—Ä–æ–µ–∫—Ç—ñ –º–æ–∂–ª–∏–≤–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥—É–±–ª—ñ–∫–∞—Ç–∏ Core Data –º–æ–¥–µ–ª–µ–π
**–†–æ–∑–≤'—è–∑–∞–Ω–Ω—è**: –í Xcode –≤–∏–¥–∞–ª–∏—Ç–∏ `backup/CrashCurseApp.xcdatamodeld` –∑ –ø—Ä–æ–µ–∫—Ç—É

### 2. CoreGraphics NaN Errors
```
Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API
```
**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏**: 
- –ù–µ–≤–∞–ª—ñ–¥–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤ UI layout
- –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø–∞—Ä—Å–∏–Ω–≥–æ–º –¥–∞—Ç –≤ PlanningViewController
**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `CG_NUMERICS_SHOW_BACKTRACE=1` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥—É

### 3. –ú–µ—Ä–µ–∂–µ–≤—ñ –ø–æ–º–∏–ª–∫–∏ –≤ –ª–æ–≥–∞—Ö
```
nw_socket_handle_socket_event Socket SO_ERROR [61: Connection refused]
```
**–°—Ç–∞—Ç—É—Å**: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - —Ü–µ —Å–ø—Ä–æ–±–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–æ–ª–∏ backend –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π

## üõ† **–ü–û–¢–û–ß–ù–ê –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê**

### iOS App Structure
```
CrashCurseApp/
‚îú‚îÄ‚îÄ CrashCurseApp/
‚îÇ   ‚îú‚îÄ‚îÄ ChatViewController.swift
‚îÇ   ‚îú‚îÄ‚îÄ PlanningViewController.swift  
‚îÇ   ‚îú‚îÄ‚îÄ VoiceViewController.swift
‚îÇ   ‚îú‚îÄ‚îÄ AgentsViewController.swift
‚îÇ   ‚îú‚îÄ‚îÄ SettingsViewController.swift
‚îÇ   ‚îú‚îÄ‚îÄ CoreServices/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NetworkService.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocalStorageService.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VoiceService.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ IntegrationService.swift
‚îÇ   ‚îî‚îÄ‚îÄ Models/ (Core Data)
```

### Backend Structure
```
/
‚îú‚îÄ‚îÄ main_simple.py (FastAPI app)
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ agents/ (CrewAI agents - –Ω–µ –∞–∫—Ç–∏–≤–Ω—ñ)
‚îÇ   ‚îú‚îÄ‚îÄ models/ (SQLAlchemy models)
‚îÇ   ‚îú‚îÄ‚îÄ services/ (Business logic)
‚îÇ   ‚îî‚îÄ‚îÄ api/routes/ (API endpoints)
‚îú‚îÄ‚îÄ venv/ (Python virtual environment)
‚îî‚îÄ‚îÄ requirements_minimal.txt
```

## üîÑ **–Ø–ö –ó–ê–ü–£–°–¢–ò–¢–ò –ü–†–û–ï–ö–¢**

### Backend
```bash
cd /Users/o.denysiuk/Desktop/iOScrashcurse/CrashCurseApp
source venv/bin/activate  # –ê–±–æ –ø—Ä–æ—Å—Ç–æ venv –∞–∫—Ç–∏–≤–Ω–∏–π
python main_simple.py
# –°–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ http://localhost:8000
```

### iOS App
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ `CrashCurseApp.xcodeproj` –≤ Xcode
2. –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ backend –∑–∞–ø—É—â–µ–Ω–∏–π
3. Build & Run –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ

## üéØ **–ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò**

### –¢–µ—Ä–º—ñ–Ω–æ–≤—ñ (1-2 –¥–Ω—ñ)
1. **–í–∏–ø—Ä–∞–≤–∏—Ç–∏ Core Data –¥—É–±–ª—ñ–∫–∞—Ç–∏**: –û—á–∏—Å—Ç–∏—Ç–∏ Xcode –ø—Ä–æ–µ–∫—Ç
2. **–î—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞—Ç–∏ CoreGraphics NaN**: –ó–Ω–∞–π—Ç–∏ –¥–∂–µ—Ä–µ–ª–æ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
3. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —á–µ—Ä–µ–∑ iOS –¥–æ–¥–∞—Ç–æ–∫

### –°–µ—Ä–µ–¥–Ω—å–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (1-2 —Ç–∏–∂–Ω—ñ)
1. **–°–ø—Ä–∞–≤–∂–Ω—ñ AI –∞–≥–µ–Ω—Ç–∏**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ CrewAI –∫–æ–ª–∏ Python packages –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º—É—Ç—å
2. **OpenAI —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**: –î–æ–¥–∞—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑–∞–º—ñ—Å—Ç—å –º–æ–∫-—ñ–≤
3. **EventKit —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**: –†–µ–∞–ª—å–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ iOS –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
4. **Voice Recognition**: –ü–æ–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥—É

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (1+ –º—ñ—Å—è—Ü—å)
1. **Cloud deployment**: Heroku/Railway –¥–ª—è backend
2. **Database**: PostgreSQL –∑–∞–º—ñ—Å—Ç—å mock storage
3. **Authentication**: User accounts —ñ –±–µ–∑–ø–µ–∫–∞
4. **App Store**: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó

## üîß **–ö–û–ú–ê–ù–î–ò –î–õ–Ø –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ò**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ health backend
curl http://localhost:8000/health

# –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ chat API
curl -X POST http://localhost:8000/api/v1/chat/send \
  -H "Content-Type: application/json" \
  -d '{"message": "Hello!", "user_id": "test"}'

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Python packages
pip list | grep fastapi

# –ó–Ω–∞–π—Ç–∏ Core Data –º–æ–¥–µ–ª—ñ
find . -name "*.xcdatamodeld" -type d
```

## üìã **–§–ê–ô–õ–ò –î–õ–Ø –£–í–ê–ì–ò**

### –ö–ª—é—á–æ–≤—ñ —Ñ–∞–π–ª–∏ —â–æ –º–æ–∂—É—Ç—å –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–æ–∫:
- `CrashCurseApp/CrashCurseApp/ChatViewController.swift` (line 180 - –¥–æ–¥–∞–Ω–æ type field)
- `CrashCurseApp/CrashCurseApp/CoreServices/NetworkService.swift` (–æ–Ω–æ–≤–ª–µ–Ω–æ API)
- `CrashCurseApp/CrashCurseApp/PlanningViewController.swift` (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ API calls)
- `main_simple.py` (backend –∑ –º–æ–∫ AI)
- `.env` (API –∫–ª—é—á—ñ - —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ env_example.txt)

### Core Data Models:
- `CrashCurseApp/CrashCurseApp.xcdatamodeld` ‚úÖ (–æ—Å–Ω–æ–≤–Ω–∞)
- `backup/CrashCurseApp.xcdatamodeld` ‚ö†Ô∏è (–º–æ–∂–ª–∏–≤–æ —Ç—Ä–µ–±–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –∑ –ø—Ä–æ–µ–∫—Ç—É)

## üìä **–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ï–ö–¢–£**
- **iOS –∫–æ–¥**: ~2000+ –ª—ñ–Ω—ñ–π Swift
- **Backend –∫–æ–¥**: ~300 –ª—ñ–Ω—ñ–π Python
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**: 90% –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: 95%
- **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ production**: 60% 